#!/usr/bin/env python
# -*- coding: utf-8 -*-
"""
SYMBOL FILTER DOCUMENTATION
===========================

This module provides comprehensive filtering for Tehran Stock Exchange (TSE) symbols
to ensure only valid equity securities are included in technical analysis.

ููุชุฑ ููุงุฏูุง ูุนุชุจุฑ ุจุฑุง ุชุญูู ุชฺฉูฺฉุงู

"""

import pandas as pd

class SymbolFilterDocumentation:
    """
    Documentation for symbol filtering process
    """
    
    # ============================
    # EXCLUDED SYMBOL TYPES
    # ============================
    
    EXCLUDED_CATEGORIES = {
        "ุงุฎุชุงุฑ ูุนุงููู (Options)": [
            "P_ (Call)",
            "C_ (Put)",
            "ููุงุฏ_ุฏ (derivatives)"
        ],
        
        "ุญููู ุชูุฏู ู ุชูุฏู (Rights & Warrants)": [
            "ููุงุฏ_ูุฑ (rights)",
            "ููุงุฏ_ูุญ (warrants)",
            "ุญู ุชูุฏู"
        ],
        
        "ุตูุฏููโูุง ู ETFs": [
            "ุตูุฏูู ุณุฑูุงูโฺฏุฐุงุฑ",
            "ETF (Exchange Traded Fund)",
            "ุดุงุฎุต"
        ],
        
        "ุงูุฑุงู ุฏููุช ู ุงูุฑุงู ูุฑุถู": [
            "ุตฺฉูู ุงุณูุงู",
            "ุงูุฑุงู ูุฑุถู",
            "ุงูุฑุงู ุฏููุช",
            "ุฎุฒุงูู ุงุณูุงู"
        ],
        
        "ูุนุงููุงุช ูุฑุงุจุญู ู ุชููู": [
            "ูุฑุงุจุญู ุงุณูุงู",
            "ุฑูู",
            "ูุฑุถโุงูุญุณูู"
        ],
        
        "ูุณฺฉู ู ุชุณ (Housing)": [
            "ุณุฑูุงูโฺฏุฐุงุฑ ูุณฺฉู",
            "ุชุณ ูุณฺฉู",
            "ูุณฺฉูโ",
            "ุชุฃูู ุงุนุชุจุงุฑ ูุณฺฉู"
        ],
        
        "ุดุฑฺฉุชโูุง ุณุฑูุงูโฺฏุฐุงุฑ": [
            "ุต.ุณ (ุดุฑฺฉุช ุณุฑูุงูโฺฏุฐุงุฑ)",
            "ุณุฑูุงูโฺฏุฐุงุฑ",
            "ููุณุณู ุณุฑูุงูโฺฏุฐุงุฑ"
        ],
        
        "ุงุฑุฒ ู ูุงุฑฺฉุณ": [
            "ููุงุฏ ุงุฑุฒ",
            "ุชุงูุงุฑ ุจูุฑุณ",
            "ฺฉุฑูพุชู"
        ],
        
        "ููุงุฏูุง ุบุฑูุนุงู": [
            "ุญุฐูโุดุฏู",
            "ุชุนููโุดุฏู",
            "ุบุฑูุนุงู",
            "ูุนูู"
        ]
    }
    
    # ============================
    # INCLUDED SYMBOL TYPES
    # ============================
    
    INCLUDED_INDUSTRIES = {
        "ูุฎุงุจุฑุงุช": [
            "ูุฎุงุจุฑุงุช ุงุฑุงู",
            "ุงุฑุงูุณู",
            "ุญูุฑุงู",
            "ุฑุงุชู"
        ],
        
        "ููุช ู ฺฏุงุฒ": [
            "ูพุงูุงุด ููุช",
            "ูพุชุฑูุดู",
            "ููุช",
            "ฺฏุงุฒ",
            "ุชูุฒุน ฺฏุงุฒ",
            "ุฎุท ูููู"
        ],
        
        "ููุฒุงุช": [
            "ูููุงุฏ",
            "ูุณ",
            "ุขูููููู",
            "ุณุฑุจ",
            "ุฑู",
            "ุฑุฎุชูโฺฏุฑ",
            "ฺฉุงฺฉุงุฆู"
        ],
        
        "ุตูุงุน ุณูุงู": [
            "ุณูุงู",
            "ุณูุงูโุงุฑุงู",
            "ุณูุงูโูุงุฒูุฏุฑุงู"
        ],
        
        "ุฎูุฏุฑู ู ูุทุนุงุช": [
            "ุฎูุฏุฑูุณุงุฒ",
            "ููุชูุฑุณุงุฒ",
            "ุชุฑุงฺฉุชูุฑุณุงุฒ",
            "ูุทุนุงุช ุฎูุฏุฑู"
        ],
        
        "ุจุฑู ู ุงูุฑฺ": [
            "ุชูููุฏ ุจุฑู",
            "ุชูุฒุน ุจุฑู",
            "ูุฑูฺฏุงู",
            "ุงูุชูุงู ุจุฑู"
        ],
        
        "ุขุจ ู ุขุจุฑุณุงู": [
            "ุขุจ ู ูุงุถูุงุจ",
            "ุดุฑฺฉุช ุขุจ",
            "ุขุจ ููุทููโุง"
        ],
        
        "ุญูู ู ููู": [
            "ุญูู ู ููู",
            "ุฎุทูุท ููุง",
            "ุดูุงูุฑ",
            "ุฑุงูุฏุงุฑ"
        ],
        
        "ุตูุงุน ุบุฐุง": [
            "ุบุฐุง",
            "ุดุฑ",
            "ุฎูุฑุงฺฉ",
            "ฺฉุดุงูุฑุฒ",
            "ุขุจุฒ ูพุฑูุฑ"
        ],
        
        "ุฏุงุฑู ู ุชุฌูุฒุงุช ูพุฒุดฺฉ": [
            "ุฏุงุฑูุณุงุฒ",
            "ุฏุงุฑู",
            "ุชุฌูุฒุงุช ูพุฒุดฺฉ",
            "ุจูุชฺฉููููฺ"
        ],
        
        "ุตูุงุน ุดู ู ุฑูฺฏ": [
            "ุดู",
            "ุฑูฺฏ",
            "ููุงุฏ ุดูุง",
            "ูพููุฑ"
        ],
        
        "ูุณุงุฌ ู ูพูุดุงฺฉ": [
            "ูุณุงุฌ",
            "ูพูุดุงฺฉ",
            "ฺฉูุด",
            "ุจุงูุช"
        ],
        
        "ุณุฑุงูฺฉุ ฺฉุงุด ู ฺู": [
            "ุณุฑุงูฺฉ",
            "ฺฉุงุด",
            "ฺู",
            "ุณูุงู"
        ],
        
        "ุดุดู": [
            "ุดุดู",
            "ุจุทุฑ"
        ],
        
        "ุจูู": [
            "ุจูู",
            "ุดุฑฺฉุช ุจูู"
        ],
        
        "ุจุงูฺฉ": [
            "ุจุงูฺฉ",
            "ููุณุณู ูุงู",
            "ุตุฑุงูู"
        ]
    }
    
    @staticmethod
    def get_exclusion_report():
        """Generate exclusion report"""
        report = "\n" + "="*80 + "\n"
        report += "๐ SYMBOL EXCLUSION GUIDE | ุฑุงูููุง ุญุฐู ููุงุฏูุง\n"
        report += "="*80 + "\n\n"
        
        doc = SymbolFilterDocumentation()
        
        report += "๐ซ EXCLUDED CATEGORIES (ููุงุฏูุง ุญุฐูโุดุฏู):\n"
        report += "-"*80 + "\n"
        
        for category, examples in doc.EXCLUDED_CATEGORIES.items():
            report += f"\n  โ {category}:\n"
            for example in examples:
                report += f"     - {example}\n"
        
        report += "\n\n"
        report += "โ INCLUDED INDUSTRIES (ุตูุงุน ูุฌุงุฒ):\n"
        report += "-"*80 + "\n"
        
        for industry, keywords in doc.INCLUDED_INDUSTRIES.items():
            report += f"\n  โ {industry}:\n"
            for keyword in keywords:
                report += f"     - {keyword}\n"
        
        report += "\n" + "="*80 + "\n"
        
        return report


if __name__ == "__main__":
    doc = SymbolFilterDocumentation()
    report = doc.get_exclusion_report()
    print(report)
    
    # Save to file
    with open('SYMBOL_FILTER_GUIDE.txt', 'w', encoding='utf-8') as f:
        f.write(report)
    
    print("โ Report saved to: SYMBOL_FILTER_GUIDE.txt")
